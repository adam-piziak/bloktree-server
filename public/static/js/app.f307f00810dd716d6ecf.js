webpackJsonp([2,0],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(2),o=a(r),s=n(70),i=a(s),c=n(88),u=n(12),d=a(u),l=n(11),f=a(l),p=n(86),h=a(p);o["default"].use(h["default"]),(0,c.sync)(d["default"],f["default"]),new o["default"]({el:"#app",router:f["default"],store:d["default"],render:function(e){return e(i["default"])}})},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=a(r),s="http://127.0.0.1:3000",i=s+"/authenticate",c=s+"/signup";t["default"]={user:{authenticated:!1},login:function(e,t,n){var a=this;console.log("Logging in"),e.$http.post(i,t).then(function(e){localStorage.setItem("id_token",e.body.id_token),a.user.authenticated=!0,o["default"].push("/tasks")})},signup:function(e,t,n){var a=this;e.$http.post(c,t,function(e){localStorage.setItem("id_token",e.id_token),a.user.authenticated=!0,n&&o["default"].go(n)}).error(function(t){e.error=t})},logout:function(){localStorage.removeItem("id_token"),this.user.authenticated=!1},checkAuth:function(){var e=localStorage.getItem("id_token");e?(this.user.authenticated=!0,o["default"].push("/tasks")):(this.user.authenticated=!1,o["default"].push("/authenticate"))},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("id_token")}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CREATE_TASK="CREATE_TASK",t.SERVER_CREATE_TASK="SERVER_CREATE_TASK",t.DELETE_TASK="DELETE_TASK",t.SERVER_DELETE_TASK="SERVER_DELETE_TASK",t.EDIT_TASK="EDIT_TASK",t.SERVER_EDIT_TASK="SERVER_EDIT_TASK",t.MAKE_GROUP="MAKE_GROUP",t.CREATE_PROJECT="CREATE_PROJECT",t.DELETE_PROJECT="DELETE_PROJECT",t.EDIT_PROJECT="EDIT_PROJECT"},,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=a(r),s=n(87),i=a(s),c=n(4),u=a(c),d=n(73),l=a(d),f=n(72),p=a(f),h=n(74),m=a(h),_=n(75),v=a(_),k=n(71),j=a(k);o["default"].use(i["default"]);var T=new i["default"]({mode:"history",routes:[{path:"/",component:j["default"],redirect:{path:"/tasks"},meta:{requiresAuth:!0},children:[{path:"tasks",component:l["default"]},{path:"projects",component:p["default"]}]},{path:"/authenticate",component:m["default"]},{path:"*",component:v["default"]}]});T.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?u["default"].user.authenticated?n():n({path:"/authenticate"}):n()}),t["default"]=T},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=r(o),i=n(3),c=r(i),u=n(21),d=a(u),l=n(22),f=a(l),p=n(24),h=r(p),m=n(23),_=r(m);s["default"].use(c["default"]),t["default"]=new c["default"].Store({actions:d,getters:f,modules:{tasks:h["default"],projects:_["default"]}})},,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTaskTree=void 0;var r=n(12),o=a(r),s=function(){var e=o["default"].getters.tasks,t=[];for(var n in e)0===e[n].parent&&t.push(e[n]);return t},i=function c(e){var t=o["default"].getters.tasks,n=[];for(var a in t){var r=t[a].parent===e,s=t[a].hasChildren;if(r&&!s){var i={id:t[a].id,name:t[a].name};n.push(i)}else if(r&&s){var u={id:t[a].id,name:t[a].name,children:c(t[a].id)};n.push(u)}}return n};t.createTaskTree=function(){var e=s(),t=[];for(var n in e)if(e[n].hasChildren){if(e[n].hasChildren){var a={id:e[n].id,name:e[n].name,project:e[n].project,children:i(e[n].id)};t.push(a)}}else{var r={id:e[n].id,name:e[n].name,project:e[n].project};t.push(r)}return t}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProject=t.createProject=t.makeGroup=t.deleteTask=t.editTask=t.createTask=void 0;var o=n(2),s=r(o),i=n(5),c=a(i),u="http://127.0.0.1:3000";t.createTask=function(e,t){var n=e.commit,a=localStorage.getItem("id_token"),r={name:"hello",parent:0,project:1,hasChildren:0,priority:1},o={token:a,task:r};s["default"].http.post(u+"/createTask",o).then(function(e){console.log(r.name),e.body.success&&n(c.CREATE_TASK,{task:r})},function(e){console.error("ERROR: "+e)})},t.editTask=function(e,t){var n=e.commit;n(c.EDIT_TASK,{edit:t})},t.deleteTask=function(e,t){var n=e.commit;n(c.DELETE_TASK,{id:t})},t.makeGroup=function(e,t){var n=e.commit;n(c.MAKE_GROUP,{id:t})},t.createProject=function(e,t){var n=e.commit;n(c.CREATE_PROJECT,{newProject:t})},t.deleteProject=function(e,t){var n=e.commit;n(c.DELETE_PROJECT,{id:t})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.projectColors=t.projects=t.taskTrees=t.tasks=void 0;var a=n(20);t.tasks=function(e){return e.tasks.all},t.taskTrees=function(){return(0,a.createTaskTree)()},t.projects=function(e){return e.projects.all},t.projectColors=function(e){return e.projects.colors}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(13),i=r(s),c=n(5),u=a(c),d={all:[{id:1,name:"general",color:"#757575"},{id:2,name:"engineering",color:"#2196F3"},{id:3,name:"health",color:"#9C27B0"},{id:4,name:"BlokTree",color:"#00BCD4"}],colors:[{id:1,name:"red",hex:"#f44336"},{id:2,name:"pink",hex:"#E91E63"},{id:3,name:"purple",hex:"#9C27B0"},{id:4,name:"deep-purple",hex:"#673AB7"},{id:5,name:"indigo",hex:"#3F51B5"},{id:6,name:"blue",hex:"#2196F3"},{id:7,name:"light-blue",hex:"#03A9F4"},{id:8,name:"cyan",hex:"#00BCD4"},{id:9,name:"teal",hex:"#009688"},{id:10,name:"green",hex:"#4CAF50"},{id:11,name:"light-green",hex:"#8BC34A"},{id:12,name:"lime",hex:"#CDDC39"},{id:13,name:"yellow",hex:"#FFEB3B"},{id:14,name:"amber",hex:"#FFC107"},{id:15,name:"orange",hex:"#FF9800"},{id:16,name:"deep-orange",hex:"#FF5722"}]},l=(o={},(0,i["default"])(o,u.CREATE_PROJECT,function(e,t){var n=t.newProject,a={id:e.all.length+1,name:n.name,color:n.color.hex};e.all.push(a)}),(0,i["default"])(o,u.DELETE_PROJECT,function(e,t){var n=t.id,a=e.all;for(var r in a)a[r].id===n&&a.splice(r,1)}),o);t["default"]={state:d,mutations:l}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(13),i=r(s),c=n(5),u=a(c),d={all:[]},l=(o={},(0,i["default"])(o,u.CREATE_TASK,function(e,t){var n=t.task,a={id:e.all.length+1,name:n.name,parent:n.parent,hasChildren:!1,project:n.project};e.all.push(a)}),(0,i["default"])(o,u.EDIT_TASK,function(e,t){var n=t.edit,a=e.all;for(var r in a)if(a[r].id===n.id){a[r].name=n.name;break}}),(0,i["default"])(o,u.MAKE_GROUP,function(e,t){var n=t.id,a=e.all;for(var r in a)if(a[r].id===n){a[r].hasChildren=!0;var o={id:e.all.length+1,name:"new task",parent:n,hasChildren:!1};a.push(o)}}),(0,i["default"])(o,u.DELETE_TASK,function(e,t){var n=t.id,a=e.all;for(var r in a)a[r].id===n&&a.splice(r,1)}),o);t["default"]={state:d,mutations:l}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=a(r);t["default"]={name:"App",data:function(){return{authenticated:o["default"].user.authenticated}},mounted:function(){o["default"].checkAuth()}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"Main"}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=a(r),s=n(3),i=n(76),c=a(i);t["default"]={name:"Projects",data:function(){return{newProject:{name:"",color:{id:1,name:"red",hex:"#f44336"}},creator:{colorPickerActive:!1}}},components:{Project:c["default"]},computed:(0,o["default"])({},(0,s.mapGetters)(["projects","projectColors"])),methods:{setNewProjectColor:function(e){this.newProject.color=e,this.creator.colorPickerActive=!1},createProject:function(){var e=this.newProject;this.$store.dispatch("createProject",e),this.newProject.name=""}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=a(r),s=n(3),i=n(77),c=a(i);t["default"]={name:"Tasks",data:function(){return{newTask:{name:"",parent:0,project:1,hasChildren:!1,priority:0},creator:{projectPickerActive:!1}}},components:{Task:c["default"]},computed:(0,o["default"])({project:function u(){var e=this.newTask.project,u={};for(var t in this.projects)this.projects[t].id===e&&(u=this.projects[t]);return u},projectName:function(){return this.project.name},projectColor:function(){return this.project.color},noTasks:function(){return 0===this.tasks.length}},(0,s.mapGetters)({tasks:"taskTrees",projects:"projects"})),methods:{setNewProject:function(e){this.newTask.project=e,this.creator.projectPickerActive=!1},createTask:function(){var e=this.newTask;this.$store.dispatch("createTask",e),this.newTask.name=""}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=a(r);t["default"]={data:function(){return{credentials:{username:"adam",password:"fractalfeels"}}},methods:{submit:function(){o["default"].login(this,this.credentials,"/")}}}},function(e,t){"use strict"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{}},props:["project"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=a(r),s=n(3);t["default"]={name:"Task",data:function(){return{state:{edit:!1,expand:!1},newTask:{name:""},edit:{id:this.task.id,name:this.task.name}}},props:["task"],computed:{hasChildren:function(){return!!this.task.children},isRoot:function(){return!!this.task.project}},methods:(0,o["default"])({setState:function(){this.state.edit=!1},createTask:function(e){var t={name:e,parent:this.task.id,hasChildren:!1,project:null};this.$store.dispatch("createTask",t),this.newTask.name=""},editTask:function(){this.$store.dispatch("editTask",this.edit),this.state.edit=!1},makeGroup:function(){this.$store.dispatch("makeGroup",this.task.id)}},(0,s.mapActions)({deleteTask:"deleteTask"}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){var a,r;n(65),a=n(25);var o=n(81);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,e.exports=a},function(e,t,n){var a,r;n(63),a=n(26);var o=n(79);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-66f5496f",e.exports=a},function(e,t,n){var a,r;n(66),a=n(27);var o=n(82);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-94bbd6a0",e.exports=a},function(e,t,n){var a,r;n(68),a=n(28);var o=n(84);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-d5c35570",e.exports=a},function(e,t,n){var a,r;n(62),a=n(29);var o=n(78);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-13a1ce29",e.exports=a},function(e,t,n){var a,r;n(69),a=n(30);var o=n(85);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-fb3f4f68",e.exports=a},function(e,t,n){var a,r;n(67),a=n(31);var o=n(83);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-c6c1390c",e.exports=a},function(e,t,n){var a,r;n(64),a=n(32);var o=n(80);r=a=a||{},"object"!=typeof a["default"]&&"function"!=typeof a["default"]||(r=a=a["default"]),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,r._scopeId="data-v-7463221c",e.exports=a},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"auth-page"},[_m(0)," ",_h("div",{staticClass:"signin-wrapper"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:credentials.username,expression:"credentials.username"}],staticClass:"i-auth-text",attrs:{type:"text",placeholder:"username",maxlength:"50",autofocus:"autofocus"},domProps:{value:_s(credentials.username)},on:{input:function(e){e.target.composing||(credentials.username=e.target.value)}}})," ",_h("input",{directives:[{name:"model",rawName:"v-model",value:credentials.password,expression:"credentials.password"}],staticClass:"i-auth-text",attrs:{type:"password",placeholder:"password",maxlength:"50"},domProps:{value:_s(credentials.password)},on:{input:function(e){e.target.composing||(credentials.password=e.target.value)}}})," ",_h("input",{staticClass:"i-auth-submit",attrs:{type:"button",value:"Login"},on:{click:submit}})])," ",_m(1)])},staticRenderFns:[function(){with(this)return _h("p",{staticClass:"auth-title"},["BlokTree"])},function(){with(this)return _h("div",{staticClass:"overlay"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"main"}},[_h("header",[_m(0)," ",_h("nav",[_h("router-link",{attrs:{to:"/tasks"}},["Tasks"])," ",_h("router-link",{attrs:{to:"/projects"}},["Projects"])])])," ",_h("router-view")])},staticRenderFns:[function(){with(this)return _h("h1",["BlokTree"])}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"task","class":{group:hasChildren},on:{click:[function(e){setState()},function(e){e.stopPropagation(),state.expand=!state.expand}]}},[isRoot?_h("span",{staticClass:"accent",style:{background:task.project.color}}):_e()," ",_h("div",{staticClass:"core"},[_h("div",{staticClass:"done-checkbox",on:{click:function(e){deleteTask(task.id)}}})," ",_h("div",{staticClass:"task-data"},[isRoot?_h("span",{staticClass:"project-name",style:{color:task.project.color}},["\n            "+_s(task.project.name)+"\n      "]):_e()," ",state.edit?_h("input",{directives:[{name:"model",rawName:"v-model",value:edit.name,expression:"edit.name"}],staticClass:"task-name edit","class":{group:hasChildren,child:!isRoot,root:isRoot},domProps:{value:_s(edit.name)},on:{keydown:function(e){13===e.keyCode&&editTask(e)},click:function(e){e.stopPropagation()},input:function(e){e.target.composing||(edit.name=e.target.value)}}}):_h("span",{staticClass:"task-name","class":{group:hasChildren,child:!isRoot,root:isRoot},on:{click:function(e){e.stopPropagation(),state.edit=!0}}},["\n            "+_s(task.name)+"\n      "])," "," "])," ",hasChildren?_e():_h("div",{staticClass:"make-group",on:{click:function(e){makeGroup(task.id)}}})," ",hasChildren?_h("span",{staticClass:"expand","class":{open:state.expand}}):_e()," ",_m(0)])," ",hasChildren?_h("div",{staticClass:"children-wrapper","class":{open:state.expand}},[_l(task.children,function(e){return _h("Task",{attrs:{task:e}})})," ",_h("div",{staticClass:"sub-task-creator"},[_m(1)," ",_h("input",{directives:[{name:"model",rawName:"v-model",value:newTask.name,expression:"newTask.name"}],attrs:{placeholder:"create new task"},domProps:{value:_s(newTask.name)},on:{click:function(e){e.stopPropagation()},keydown:function(e){13===e.keyCode&&createTask(newTask.name)},input:function(e){e.target.composing||(newTask.name=e.target.value)}}})," ",_m(2)])]):_e()])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"border-bottom"})},function(){with(this)return _h("div",{staticClass:"done-checkbox"})},function(){with(this)return _h("span",{staticClass:"border-bottom"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("router-view")])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"projects"},[_h("div",{staticClass:"creator"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:newProject.name,expression:"newProject.name"}],staticClass:"new-project-name",attrs:{type:"text",placeholder:"add new project"},domProps:{value:_s(newProject.name)},on:{keydown:function(e){13===e.keyCode&&createProject()},input:function(e){e.target.composing||(newProject.name=e.target.value)}}})," ",_h("div",{staticClass:"color-picker"},[_h("span",{staticClass:"color",style:{color:newProject.color.hex},on:{click:function(e){creator.colorPickerActive=!creator.colorPickerActive}}},["\n            "+_s(newProject.color.name)+"\n      "])," ",_l(projectColors,function(e){return _h("span",{directives:[{name:"show",rawName:"v-show",value:creator.colorPickerActive,expression:"creator.colorPickerActive"}],staticClass:"color",style:{color:e.hex},on:{click:function(t){setNewProjectColor(e)}}},["\n            "+_s(e.name)+"\n      "])})])])," ",_h("div",{staticClass:"projects-wrapper"},[_l(projects,function(e){return _h("Project",{attrs:{project:e}})})])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"project"},[_h("span",{staticClass:"accent",style:{background:project.color}})," ",_h("div",{staticClass:"project-data"},[_h("span",{staticClass:"project-name"},[_s(project.name)])])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"tasks"},[_h("div",{staticClass:"creator"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:newTask.name,expression:"newTask.name"}],staticClass:"new-task-input",attrs:{type:"text",placeholder:"add new task"},domProps:{value:_s(newTask.name)},on:{keydown:function(e){13===e.keyCode&&createTask()},input:function(e){e.target.composing||(newTask.name=e.target.value)}}})," ",_h("div",{staticClass:"project-picker"},[_h("span",{staticClass:"project",style:{color:projectColor},on:{click:function(e){creator.projectPickerActive=!creator.projectPickerActive}}},["\n            "+_s(projectName)+"\n      "])," ",_l(projects,function(e){return _h("span",{directives:[{name:"show",rawName:"v-show",value:creator.projectPickerActive,expression:"creator.projectPickerActive"}],staticClass:"project",style:{color:e.color},on:{click:function(t){setNewProject(e.id)}}},["\n            "+_s(e.name)+"\n      "])})])])," ",noTasks?_h("p",{staticClass:"no-tasks-message"},["No tasks added yet"]):_e()," ",_h("div",{staticClass:"tasks-wrapper",attrs:{"else":""}},[_l(tasks,function(e){return _h("Task",{attrs:{task:e}})})])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _m(0)},staticRenderFns:[function(){with(this)return _h("div",[_h("h1",["404: Page not found"])])}]}}]);
//# sourceMappingURL=app.f307f00810dd716d6ecf.js.map